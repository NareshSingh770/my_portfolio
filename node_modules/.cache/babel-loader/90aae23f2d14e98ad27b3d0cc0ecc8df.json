{"ast":null,"code":"import _regeneratorRuntime from\"E:/React-Project/Restuarants/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"E:/React-Project/Restuarants/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"E:/React-Project/Restuarants/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect,useReducer}from'react';import reducerCity from'../reducers/Reducers';import{reducerSelCity}from'../reducers/Reducers';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var reducerShowWeather=function reducerShowWeather(state,_ref){var type=_ref.type,weatherDetail=_ref.weatherDetail;switch(type){case'SHOW_WEATHER':return weatherDetail;default:return state;}};var Weather=function Weather(){var _useReducer=useReducer(reducerCity,''),_useReducer2=_slicedToArray(_useReducer,2),inputType=_useReducer2[0],dispatchCity=_useReducer2[1];var _useReducer3=useReducer(reducerSelCity,'delhi'),_useReducer4=_slicedToArray(_useReducer3,2),selectedCity=_useReducer4[0],dispatchSelCity=_useReducer4[1];var _useReducer5=useReducer(reducerShowWeather,''),_useReducer6=_slicedToArray(_useReducer5,2),weatherData=_useReducer6[0],dispatchWeather=_useReducer6[1];useEffect(function(){var weatherAPIData=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var url,res,data,_data$main,temp,humidity,temp_max,temp_min,weath,wind,time,allExtractData;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;url=\"https://api.openweathermap.org/data/2.5/weather?q=\".concat(selectedCity,\"&units=metric&appid=2d09fd0d294278c0015aecacf7df42dd\");_context.next=4;return fetch(url);case 4:res=_context.sent;_context.next=7;return res.json();case 7:data=_context.sent;// console.log(data)\n_data$main=data.main,temp=_data$main.temp,humidity=_data$main.humidity,temp_max=_data$main.temp_max,temp_min=_data$main.temp_min;weath=data.weather[0].main;wind=data.wind.speed;time=new Date().toLocaleTimeString();// console.log(time);\nallExtractData={temp:temp,humidity:humidity,temp_max:temp_max,temp_min:temp_min,weath:weath,wind:wind,time:time};dispatchWeather({type:'SHOW_WEATHER',weatherDetail:allExtractData});_context.next=19;break;case 16:_context.prev=16;_context.t0=_context[\"catch\"](0);alert(\"Cann't find....\");case 19:case\"end\":return _context.stop();}}},_callee,null,[[0,16]]);}));return function weatherAPIData(){return _ref2.apply(this,arguments);};}();weatherAPIData();},[selectedCity]);return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-center pt-5 mb-3\",children:\"Live Weather Report\"}),/*#__PURE__*/_jsx(\"div\",{className:\"container\",children:/*#__PURE__*/_jsx(\"div\",{className:\"row justify-content-center\",children:/*#__PURE__*/_jsx(\"div\",{className:\"col-12 col-md-4 col-sm-12 col-xs-12\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"card-weather p-4\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"search-wrap\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"input-group mb-3\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"city\",value:inputType,placeholder:\"Enter any...\",onChange:function onChange(e){return dispatchCity({type:'INPUT_TYPE',element:e});}}),/*#__PURE__*/_jsx(\"div\",{className:\"input-group-append\",children:/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-danger\",type:\"submit\",onClick:function onClick(){return dispatchSelCity({type:'SELECT_CITY',payload:inputType});},children:\"Go\"})})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex\",children:[/*#__PURE__*/_jsx(\"h6\",{className:\"flex-grow-1 default-city\",children:selectedCity}),/*#__PURE__*/_jsx(\"h6\",{children:weatherData.time})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex flex-column temp mt-5 mb-3\",children:[/*#__PURE__*/_jsxs(\"h1\",{className:\"mb-0 font-weight-bold\",id:\"heading\",children:[\" \",weatherData.temp,\"\\xB0 C \"]}),\" \",/*#__PURE__*/_jsx(\"span\",{className:\"small grey\",children:weatherData.weath})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"temp-details flex-grow-1\",children:[/*#__PURE__*/_jsxs(\"p\",{className:\"my-1\",children:[\"  \",/*#__PURE__*/_jsxs(\"span\",{children:[weatherData.temp_min-5,\" - \",weatherData.temp_max,\"  \"]}),\" \"]}),/*#__PURE__*/_jsxs(\"p\",{className:\"my-1\",children:[\" \",/*#__PURE__*/_jsx(\"img\",{src:\"https://i.imgur.com/B9kqOzp.png\",height:\"17px\",alt:\"weather\"}),\" \",/*#__PURE__*/_jsxs(\"span\",{children:[\" \",weatherData.wind,\" km/h \"]}),\" \"]}),/*#__PURE__*/_jsxs(\"p\",{className:\"my-1\",children:[\" \",/*#__PURE__*/_jsx(\"i\",{className:\"fa fa-tint mr-2\",\"aria-hidden\":\"true\"}),\" \",/*#__PURE__*/_jsxs(\"span\",{children:[\" \",weatherData.humidity,\"% \"]}),\" \"]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[\" \",/*#__PURE__*/_jsx(\"img\",{src:\"https://i.imgur.com/Qw7npIg.png\",width:\"100px\",alt:\"weathers\"}),\" \"]})]})]})})})})]});};export default Weather;","map":{"version":3,"sources":["E:/React-Project/Restuarants/src/MiniProjects/Weather/Weather.js"],"names":["React","useEffect","useReducer","reducerCity","reducerSelCity","reducerShowWeather","state","type","weatherDetail","Weather","inputType","dispatchCity","selectedCity","dispatchSelCity","weatherData","dispatchWeather","weatherAPIData","url","fetch","res","json","data","main","temp","humidity","temp_max","temp_min","weath","weather","wind","speed","time","Date","toLocaleTimeString","allExtractData","alert","e","element","payload"],"mappings":"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","sourcesContent":["import React, { useEffect, useReducer } from 'react'\r\nimport reducerCity from '../reducers/Reducers'\r\nimport { reducerSelCity } from '../reducers/Reducers';\r\n\r\n\r\n\r\n\r\nconst reducerShowWeather = (state, { type, weatherDetail }) => {\r\n    switch (type) {\r\n        case 'SHOW_WEATHER':\r\n            return weatherDetail\r\n        default: return state\r\n\r\n    }\r\n}\r\n\r\n\r\nconst Weather = () => {\r\n\r\n    const [inputType, dispatchCity] = useReducer(reducerCity, '')\r\n    const [selectedCity, dispatchSelCity] = useReducer(reducerSelCity, 'delhi')\r\n    const [weatherData, dispatchWeather] = useReducer(reducerShowWeather, '')\r\n\r\n\r\n    useEffect(() => {\r\n        const weatherAPIData = async () => {\r\n            try {\r\n                let url = `https://api.openweathermap.org/data/2.5/weather?q=${selectedCity}&units=metric&appid=2d09fd0d294278c0015aecacf7df42dd`\r\n                const res = await fetch(url);\r\n                const data = await res.json();\r\n                // console.log(data)\r\n                const { temp, humidity, temp_max, temp_min } = data.main;\r\n                const weath = data.weather[0].main;\r\n                const wind = data.wind.speed;\r\n                const time = new Date().toLocaleTimeString();\r\n                // console.log(time);\r\n                const allExtractData = {\r\n                    temp, humidity, temp_max, temp_min, weath, wind, time\r\n                }\r\n\r\n\r\n                dispatchWeather({ type: 'SHOW_WEATHER', weatherDetail: allExtractData })\r\n            } catch (error) {\r\n                alert(\"Cann't find....\")\r\n            }\r\n        }\r\n        weatherAPIData()\r\n    }, [selectedCity])\r\n\r\n    return (\r\n        <>\r\n            <h3 className=\"text-center pt-5 mb-3\">Live Weather Report</h3>\r\n            <div className=\"container\">\r\n                <div className=\"row justify-content-center\">\r\n                    <div className=\"col-12 col-md-4 col-sm-12 col-xs-12\">\r\n                        <div className=\"card-weather p-4\">\r\n                            <div className=\"search-wrap\">\r\n                                <div className=\"input-group mb-3\">\r\n                                    <input type='text' name='city' value={inputType} placeholder='Enter any...' onChange={(e) => dispatchCity({ type: 'INPUT_TYPE', element: e })} />\r\n                                    <div className=\"input-group-append\">\r\n                                        <button className=\"btn btn-danger\" type=\"submit\" onClick={() => dispatchSelCity({ type: 'SELECT_CITY', payload: inputType })}>Go</button>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                            <div className=\"d-flex\">\r\n                                <h6 className=\"flex-grow-1 default-city\">{selectedCity}</h6>\r\n                                <h6>{weatherData.time}</h6>\r\n                            </div>\r\n                            <div className=\"d-flex flex-column temp mt-5 mb-3\">\r\n                                <h1 className=\"mb-0 font-weight-bold\" id=\"heading\"> {weatherData.temp}° C </h1> <span className=\"small grey\">{weatherData.weath}</span>\r\n                            </div>\r\n                            <div className=\"d-flex\">\r\n                                <div className=\"temp-details flex-grow-1\">\r\n                                    <p className=\"my-1\">  <span>{weatherData.temp_min - 5} - {weatherData.temp_max}  </span> </p>\r\n                                    <p className=\"my-1\"> <img src=\"https://i.imgur.com/B9kqOzp.png\" height=\"17px\" alt=\"weather\" /> <span> {weatherData.wind} km/h </span> </p>\r\n                                    <p className=\"my-1\"> <i className=\"fa fa-tint mr-2\" aria-hidden=\"true\"></i> <span> {weatherData.humidity}% </span> </p>\r\n\r\n                                </div>\r\n                                <div> <img src=\"https://i.imgur.com/Qw7npIg.png\" width=\"100px\" alt=\"weathers\" /> </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default Weather\r\n"]},"metadata":{},"sourceType":"module"}